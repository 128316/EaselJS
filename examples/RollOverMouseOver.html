<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<title>EaselJS Example: Text</title>

	<link href="assets/demoStyles.css" rel="stylesheet" type="text/css" />

	<script type="text/javascript" src="../src/easeljs/utils/UID.js"></script>
	<script type="text/javascript" src="../src/easeljs/geom/Matrix2D.js"></script>
	<script type="text/javascript" src="../src/easeljs/events/EventDispatcher.js"></script>
	<script type="text/javascript" src="../src/easeljs/utils/Ticker.js"></script>
	<script type="text/javascript" src="../src/easeljs/display/DisplayObject.js"></script>
	<script type="text/javascript" src="../src/easeljs/display/Container.js"></script>
	<script type="text/javascript" src="../src/easeljs/display/Stage.js"></script>
	<script type="text/javascript" src="../src/easeljs/events/Event.js"></script>
	<script type="text/javascript" src="../src/easeljs/events/MouseEvent.js"></script>
	<script type="text/javascript" src="../src/easeljs/display/Text.js"></script>
	<script type="text/javascript" src="../src/easeljs/display/Graphics.js"></script>
	<script type="text/javascript" src="../src/easeljs/display/Shape.js"></script>

	<!-- We also provide hosted minified versions of all CreateJS libraries.
	  http://code.createjs.com -->

	<script>
	var stage,text;
	
	function init() {
		// create a stage object to work with the canvas. This is the top level node in the display list:
		stage = new createjs.Stage("testCanvas");
		stage.name = "stage";
		stage.enableMouseOver(20);

		// Create a simple hierarchy:
		var container = stage.addChild(new createjs.Container()).set({name:"container"});
		
		var blue = container.addChild(new createjs.Shape()).set({name:"blue", x:50, y:50});
		blue.graphics.beginFill("#00F").drawRect(0,0,200,200);
		var red = container.addChild(new createjs.Shape()).set({name:"red", x:100, y:100});
		red.graphics.beginFill("#F00").drawRect(0,0,100,100);
		
		container.addEventListener("mouseover", handleEvt);
		container.addEventListener("mouseout", handleEvt);
		container.addEventListener("rollover", handleEvt);
		container.addEventListener("rollout", handleEvt);
		
		container.cursor = "pointer";
		red.cursor = "";
		
		// text object to output the 
		text = stage.addChild(new createjs.Text("", "14px monospace", "#FFF")).set({x:260, y:20, lineHeight:20});

		// call update on the stage to make it render the current display list to the canvas:
		createjs.Ticker.addEventListener("tick", stage);
	}
	
	var log = [];
	function handleEvt(evt) {
		log.push("type="+evt.type+" target="+evt.target.name+" currentTarget="+evt.currentTarget.name);
		while (log.length > 12) { log.shift(); }
		text.text = log.join("\n");
	}
	
	var lastPhase = 0;
	function handleClick(evt) {
		
	}
	</script>
</head>
	
<body onload="init();">

	<header id="header" class="EaselJS">
	    <h1><span class="text-product">Easel<strong>JS</strong></span> Hello World!</h1>
	    <p>This example demonstrates event bubbling phases. The red square is a child of a container, which is a child
	    of the stage. Event listeners have been added for the capture and bubble phase of the click event for all three
	    objects. Clicking on the square outputs the event details, and demonstrates how the <strong>target</strong>, <strong>eventPhase</strong>, and
		<strong>currentTarget</strong> properties work.</p>
	</header>

	<div class="canvasHolder">
		<canvas id="testCanvas" width="960" height="400"></canvas>
	</div>
</body>
</html>
