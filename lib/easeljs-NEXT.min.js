/*
* EaselJS
* Visit http://createjs.com/ for documentation, updates and examples.
*
* Copyright (c) 2011 gskinner.com, inc.
* 
* Distributed under the terms of the MIT license.
* http://www.opensource.org/licenses/mit-license.html
*
* This notice shall be included in all copies or substantial portions of the Software.
*/
this.createjs=this.createjs||{};(function(){var c=function(){throw"UID cannot be instantiated";};c._nextID=0;c.get=function(){return c._nextID++};createjs.UID=c})();this.createjs=this.createjs||{};
(function(){var c=function(){this.initialize()},a=c.prototype;c.initialize=function(b){b.addEventListener=a.addEventListener;b.removeEventListener=a.removeEventListener;b.removeAllEventListeners=a.removeAllEventListeners;b.hasEventListener=a.hasEventListener;b.dispatchEvent=a.dispatchEvent};a._listeners=null;a.initialize=function(){};a.addEventListener=function(b,n){var a=this._listeners;a?this.removeEventListener(b,n):a=this._listeners={};var d=a[b];d||(d=a[b]=[]);d.push(n);return n};a.removeEventListener=
function(b,a){var g=this._listeners;if(g){var d=g[b];if(d)for(var c=0,f=d.length;c<f;c++)if(d[c]==a){1==f?delete g[b]:d.splice(c,1);break}}};a.removeAllEventListeners=function(b){b?this._listeners&&delete this._listeners[b]:this._listeners=null};a.dispatchEvent=function(b,a){var g=!1,d=this._listeners;if(b&&d){"string"==typeof b&&(b={type:b});d=d[b.type];if(!d)return g;b.target=a||this;for(var d=d.slice(),c=0,f=d.length;c<f;c++)var h=d[c],g=h.handleEvent?g||h.handleEvent(b):g||h(b)}return!!g};a.hasEventListener=
function(b){var a=this._listeners;return!(!a||!a[b])};a.toString=function(){return"[EventDispatcher]"};createjs.EventDispatcher=c})();this.createjs=this.createjs||{};
(function(){var c=function(){throw"Ticker cannot be instantiated.";};c.RAF_SYNCHED="synched";c.RAF="raf";c.TIMEOUT="timeout";c.useRAF=!1;c.timingMode=null;c.addEventListener=null;c.removeEventListener=null;c.removeAllEventListeners=null;c.dispatchEvent=null;c.hasEventListener=null;c._listeners=null;createjs.EventDispatcher.initialize(c);c._listeners=null;c._pauseable=null;c._paused=!1;c._inited=!1;c._startTime=0;c._pausedTime=0;c._ticks=0;c._pausedTicks=0;c._interval=50;c._lastTime=0;c._times=null;
c._tickTimes=null;c._rafActive=!1;c._timeoutID=null;c.addListener=function(b,a){null!=b&&(c.removeListener(b),c._pauseable[c._listeners.length]=null==a?!0:a,c._listeners.push(b))};c.init=function(){c._inited=!0;c._times=[];c._tickTimes=[];c._pauseable=[];c._listeners=[];c._times.push(c._lastTime=c._startTime=c._getTime());c.setInterval(c._interval)};c.removeListener=function(b){var a=c._listeners;a&&(b=a.indexOf(b),-1!=b&&(a.splice(b,1),c._pauseable.splice(b,1)))};c.removeAllListeners=function(){c._listeners=
[];c._pauseable=[]};c.setInterval=function(b){c._interval=b;c._inited&&c._setupTick()};c.getInterval=function(){return c._interval};c.setFPS=function(b){c.setInterval(1E3/b)};c.getFPS=function(){return 1E3/c._interval};c.getMeasuredTickTime=function(b){var a=c._tickTimes;if(1>a.length)return-1;b=Math.min(a.length,b||c.getFPS()|0);for(var g=0;g<b;g++);return a/b};c.getMeasuredFPS=function(b){var a=c._times;if(2>a.length)return-1;b=Math.min(a.length-1,b||c.getFPS()|0);return 1E3/((a[0]-a[b])/b)};c.setPaused=
function(b){c._paused=b};c.getPaused=function(){return c._paused};c.getTime=function(b){return c._getTime()-c._startTime-(b?c._pausedTime:0)};c.getTicks=function(b){return c._ticks-(b?c._pausedTicks:0)};c._handleSynch=function(){c._rafActive=!1;c._setupTick();c._getTime()-c._lastTime>=0.97*(c._interval-1)&&c._tick()};c._handleRAF=function(){c._rafActive=!1;c._setupTick();c._tick()};c._handleTimeout=function(){c.timeoutID=null;c._setupTick();c._tick()};c._setupTick=function(){if(!(c._rafActive||null!=
c.timeoutID)){var b=c.timingMode||c.useRAF&&c.RAF_SYNCHED;if(b==c.RAF_SYNCHED||b==c.RAF){var a=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame;if(a){a(b==c.RAF?c._handleRAF:c._handleSynch);c._rafActive=!0;return}}c.timeoutID=setTimeout(c._handleTimeout,c._interval)}};c._tick=function(){var b=c._getTime();c._ticks++;var a=b-c._lastTime,g=c._paused;g&&(c._pausedTicks++,c._pausedTime+=a);
c._lastTime=b;for(var d=c._pauseable,e=c._listeners.slice(),f=e?e.length:0,h=0;h<f;h++){var j=e[h];null==j||g&&d[h]||(j.tick?j.tick(a,g):j instanceof Function&&j(a,g))}c.dispatchEvent({type:"tick",paused:g,delta:a,time:b,runTime:b-c._pausedTime});for(c._tickTimes.unshift(c._getTime()-b);100<c._tickTimes.length;)c._tickTimes.pop();for(c._times.unshift(b);100<c._times.length;)c._times.pop()};var a=window.performance&&(performance.now||performance.mozNow||performance.msNow||performance.oNow||performance.webkitNow);
c._getTime=function(){return a&&a.call(performance)||(new Date).getTime()};c.init();createjs.Ticker=c})();this.createjs=this.createjs||{};
(function(){var c=function(b,a,g,d,c,f,h,j,k){this.initialize(b,a,g,d,c,f,h,j,k)},a=c.prototype;a.stageX=0;a.stageY=0;a.rawX=0;a.rawY=0;a.type=null;a.nativeEvent=null;a.onMouseMove=null;a.onMouseUp=null;a.target=null;a.pointerID=0;a.primary=!1;a.addEventListener=null;a.removeEventListener=null;a.removeAllEventListeners=null;a.dispatchEvent=null;a.hasEventListener=null;a._listeners=null;createjs.EventDispatcher.initialize(a);a.initialize=function(b,a,g,d,c,f,h,j,k){this.type=b;this.stageX=a;this.stageY=
g;this.target=d;this.nativeEvent=c;this.pointerID=f;this.primary=h;this.rawX=null==j?a:j;this.rawY=null==k?g:k};a.clone=function(){return new c(this.type,this.stageX,this.stageY,this.target,this.nativeEvent,this.pointerID,this.primary,this.rawX,this.rawY)};a.toString=function(){return"[MouseEvent (type="+this.type+" stageX="+this.stageX+" stageY="+this.stageY+")]"};createjs.MouseEvent=c})();this.createjs=this.createjs||{};
(function(){var c=function(b,a,g,d,c,f){this.initialize(b,a,g,d,c,f)},a=c.prototype;c.identity=null;c.DEG_TO_RAD=Math.PI/180;a.a=1;a.b=0;a.c=0;a.d=1;a.tx=0;a.ty=0;a.alpha=1;a.shadow=null;a.compositeOperation=null;a.initialize=function(b,a,g,d,c,f){null!=b&&(this.a=b);this.b=a||0;this.c=g||0;null!=d&&(this.d=d);this.tx=c||0;this.ty=f||0;return this};a.prepend=function(b,a,g,d,c,f){var h=this.tx;if(1!=b||0!=a||0!=g||1!=d){var j=this.a,k=this.c;this.a=j*b+this.b*g;this.b=j*a+this.b*d;this.c=k*b+this.d*
g;this.d=k*a+this.d*d}this.tx=h*b+this.ty*g+c;this.ty=h*a+this.ty*d+f;return this};a.append=function(b,a,g,d,c,f){var h=this.a,j=this.b,k=this.c,l=this.d;this.a=b*h+a*k;this.b=b*j+a*l;this.c=g*h+d*k;this.d=g*j+d*l;this.tx=c*h+f*k+this.tx;this.ty=c*j+f*l+this.ty;return this};a.prependMatrix=function(b){this.prepend(b.a,b.b,b.c,b.d,b.tx,b.ty);this.prependProperties(b.alpha,b.shadow,b.compositeOperation);return this};a.appendMatrix=function(b){this.append(b.a,b.b,b.c,b.d,b.tx,b.ty);this.appendProperties(b.alpha,
b.shadow,b.compositeOperation);return this};a.prependTransform=function(b,a,g,d,e,f,h,j,k){if(e%360){var l=e*c.DEG_TO_RAD;e=Math.cos(l);l=Math.sin(l)}else e=1,l=0;if(j||k)this.tx-=j,this.ty-=k;f||h?(f*=c.DEG_TO_RAD,h*=c.DEG_TO_RAD,this.prepend(e*g,l*g,-l*d,e*d,0,0),this.prepend(Math.cos(h),Math.sin(h),-Math.sin(f),Math.cos(f),b,a)):this.prepend(e*g,l*g,-l*d,e*d,b,a);return this};a.appendTransform=function(b,a,g,d,e,f,h,j,k){if(e%360){var l=e*c.DEG_TO_RAD;e=Math.cos(l);l=Math.sin(l)}else e=1,l=0;f||
h?(f*=c.DEG_TO_RAD,h*=c.DEG_TO_RAD,this.append(Math.cos(h),Math.sin(h),-Math.sin(f),Math.cos(f),b,a),this.append(e*g,l*g,-l*d,e*d,0,0)):this.append(e*g,l*g,-l*d,e*d,b,a);if(j||k)this.tx-=j*this.a+k*this.c,this.ty-=j*this.b+k*this.d;return this};a.rotate=function(b){var a=Math.cos(b);b=Math.sin(b);var g=this.a,d=this.c,c=this.tx;this.a=g*a-this.b*b;this.b=g*b+this.b*a;this.c=d*a-this.d*b;this.d=d*b+this.d*a;this.tx=c*a-this.ty*b;this.ty=c*b+this.ty*a;return this};a.skew=function(b,a){b*=c.DEG_TO_RAD;
a*=c.DEG_TO_RAD;this.append(Math.cos(a),Math.sin(a),-Math.sin(b),Math.cos(b),0,0);return this};a.scale=function(b,a){this.a*=b;this.d*=a;this.c*=b;this.b*=a;this.tx*=b;this.ty*=a;return this};a.translate=function(b,a){this.tx+=b;this.ty+=a;return this};a.identity=function(){this.alpha=this.a=this.d=1;this.b=this.c=this.tx=this.ty=0;this.shadow=this.compositeOperation=null;return this};a.invert=function(){var b=this.a,a=this.b,g=this.c,d=this.d,c=this.tx,f=b*d-a*g;this.a=d/f;this.b=-a/f;this.c=-g/
f;this.d=b/f;this.tx=(g*this.ty-d*c)/f;this.ty=-(b*this.ty-a*c)/f;return this};a.isIdentity=function(){return 0==this.tx&&0==this.ty&&1==this.a&&0==this.b&&0==this.c&&1==this.d};a.decompose=function(b){null==b&&(b={});b.x=this.tx;b.y=this.ty;b.scaleX=Math.sqrt(this.a*this.a+this.b*this.b);b.scaleY=Math.sqrt(this.c*this.c+this.d*this.d);var a=Math.atan2(-this.c,this.d),g=Math.atan2(this.b,this.a);a==g?(b.rotation=g/c.DEG_TO_RAD,0>this.a&&0<=this.d&&(b.rotation+=0>=b.rotation?180:-180),b.skewX=b.skewY=
0):(b.skewX=a/c.DEG_TO_RAD,b.skewY=g/c.DEG_TO_RAD);return b};a.reinitialize=function(b,a,g,d,c,f,h,j,k){this.initialize(b,a,g,d,c,f);this.alpha=h||1;this.shadow=j;this.compositeOperation=k;return this};a.appendProperties=function(b,a,g){this.alpha*=b;this.shadow=a||this.shadow;this.compositeOperation=g||this.compositeOperation;return this};a.prependProperties=function(b,a,g){this.alpha*=b;this.shadow=this.shadow||a;this.compositeOperation=this.compositeOperation||g;return this};a.clone=function(){var b=
new c(this.a,this.b,this.c,this.d,this.tx,this.ty);b.shadow=this.shadow;b.alpha=this.alpha;b.compositeOperation=this.compositeOperation;return b};a.toString=function(){return"[Matrix2D (a="+this.a+" b="+this.b+" c="+this.c+" d="+this.d+" tx="+this.tx+" ty="+this.ty+")]"};c.identity=new c(1,0,0,1,0,0);createjs.Matrix2D=c})();this.createjs=this.createjs||{};(function(){var c=function(b,a){this.initialize(b,a)},a=c.prototype;a.x=0;a.y=0;a.initialize=function(b,a){this.x=null==b?0:b;this.y=null==a?0:a};a.clone=function(){return new c(this.x,this.y)};a.toString=function(){return"[Point (x="+this.x+" y="+this.y+")]"};createjs.Point=c})();this.createjs=this.createjs||{};(function(){var c=function(b,a,g,d){this.initialize(b,a,g,d)},a=c.prototype;a.x=0;a.y=0;a.width=0;a.height=0;a.initialize=function(b,a,g,d){this.x=null==b?0:b;this.y=null==a?0:a;this.width=null==g?0:g;this.height=null==d?0:d};a.clone=function(){return new c(this.x,this.y,this.width,this.height)};a.toString=function(){return"[Rectangle (x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+")]"};createjs.Rectangle=c})();this.createjs=this.createjs||{};
(function(){var c=function(b,a,g,d,c,f,h){this.initialize(b,a,g,d,c,f,h)},a=c.prototype;a.target=null;a.overLabel=null;a.outLabel=null;a.downLabel=null;a.play=!1;a._isPressed=!1;a._isOver=!1;a.initialize=function(b,a,g,d,c,f,h){b.addEventListener&&(this.target=b,b.cursor="pointer",this.overLabel=null==g?"over":g,this.outLabel=null==a?"out":a,this.downLabel=null==d?"down":d,this.play=c,this.setEnabled(!0),this.handleEvent({}),f&&(h&&(f.actionsEnabled=!1,f.gotoAndStop&&f.gotoAndStop(h)),b.hitArea=f))};
a.setEnabled=function(b){var a=this.target;b?(a.addEventListener("mouseover",this),a.addEventListener("mouseout",this),a.addEventListener("mousedown",this)):(a.removeEventListener("mouseover",this),a.removeEventListener("mouseout",this),a.removeEventListener("mousedown",this))};a.toString=function(){return"[ButtonHelper]"};a.handleEvent=function(b){var a=this.target,g=b.type;"mousedown"==g?(b.addEventListener("mouseup",this),this._isPressed=!0,b=this.downLabel):"mouseup"==g?(this._isPressed=!1,b=
this._isOver?this.overLabel:this.outLabel):"mouseover"==g?(this._isOver=!0,b=this._isPressed?this.downLabel:this.overLabel):(this._isOver=!1,b=this._isPressed?this.overLabel:this.outLabel);this.play?a.gotoAndPlay&&a.gotoAndPlay(b):a.gotoAndStop&&a.gotoAndStop(b)};createjs.ButtonHelper=c})();this.createjs=this.createjs||{};(function(){var c=function(b,a,g,d){this.initialize(b,a,g,d)},a=c.prototype;c.identity=null;a.color=null;a.offsetX=0;a.offsetY=0;a.blur=0;a.initialize=function(b,a,g,d){this.color=b;this.offsetX=a;this.offsetY=g;this.blur=d};a.toString=function(){return"[Shadow]"};a.clone=function(){return new c(this.color,this.offsetX,this.offsetY,this.blur)};c.identity=new c("transparent",0,0,0);createjs.Shadow=c})();this.createjs=this.createjs||{};
(function(){var c=function(b){this.initialize(b)},a=c.prototype;a.complete=!0;a.framerate=0;a.onComplete=null;a.addEventListener=null;a.removeEventListener=null;a.removeAllEventListeners=null;a.dispatchEvent=null;a.hasEventListener=null;a._listeners=null;createjs.EventDispatcher.initialize(a);a._animations=null;a._frames=null;a._images=null;a._data=null;a._loadCount=0;a._frameHeight=0;a._frameWidth=0;a._numFrames=0;a._regX=0;a._regY=0;a.initialize=function(b){var a,g,d;if(null!=b){this.framerate=
b.framerate||0;if(b.images&&0<(g=b.images.length)){d=this._images=[];for(a=0;a<g;a++){var c=b.images[a];if("string"==typeof c){var f=c,c=new Image;c.src=f}d.push(c);!c.getContext&&!c.complete&&(this._loadCount++,this.complete=!1,function(b){c.onload=function(){b._handleImageLoad()}}(this))}}if(null!=b.frames)if(b.frames instanceof Array){this._frames=[];d=b.frames;a=0;for(g=d.length;a<g;a++)f=d[a],this._frames.push({image:this._images[f[4]?f[4]:0],rect:new createjs.Rectangle(f[0],f[1],f[2],f[3]),
regX:f[5]||0,regY:f[6]||0})}else g=b.frames,this._frameWidth=g.width,this._frameHeight=g.height,this._regX=g.regX||0,this._regY=g.regY||0,this._numFrames=g.count,0==this._loadCount&&this._calculateFrames();this._animations=[];if(null!=(g=b.animations)){this._data={};for(var h in g){b={name:h};f=g[h];if("number"==typeof f)d=b.frames=[f];else if(f instanceof Array)if(1==f.length)b.frames=[f[0]];else{b.speed=f[3];b.next=f[2];d=b.frames=[];for(a=f[0];a<=f[1];a++)d.push(a)}else b.speed=f.speed,b.next=
f.next,a=f.frames,d=b.frames="number"==typeof a?[a]:a.slice(0);b.next=2>d.length||!1==b.next?null:null==b.next||!0==b.next?h:b.next;b.speed||(b.speed=1);this._animations.push(h);this._data[h]=b}}}};a.getNumFrames=function(b){if(null==b)return this._frames?this._frames.length:this._numFrames;b=this._data[b];return null==b?0:b.frames.length};a.getAnimations=function(){return this._animations.slice(0)};a.getAnimation=function(b){return this._data[b]};a.getFrame=function(b){var a;return this._frames&&
(a=this._frames[b])?a:null};a.getFrameBounds=function(b){return(b=this.getFrame(b))?new createjs.Rectangle(-b.regX,-b.regY,b.rect.width,b.rect.height):null};a.toString=function(){return"[SpriteSheet]"};a.clone=function(){var b=new c;b.complete=this.complete;b._animations=this._animations;b._frames=this._frames;b._images=this._images;b._data=this._data;b._frameHeight=this._frameHeight;b._frameWidth=this._frameWidth;b._numFrames=this._numFrames;b._loadCount=this._loadCount;return b};a._handleImageLoad=
function(){0==--this._loadCount&&(this._calculateFrames(),this.complete=!0,this.onComplete&&this.onComplete(),this.dispatchEvent("complete"))};a._calculateFrames=function(){if(!(this._frames||0==this._frameWidth)){this._frames=[];for(var b=0,a=this._frameWidth,g=this._frameHeight,c=0,e=this._images;c<e.length;c++){for(var f=e[c],h=(f.width+1)/a|0,j=(f.height+1)/g|0,j=0<this._numFrames?Math.min(this._numFrames-b,h*j):h*j,k=0;k<j;k++)this._frames.push({image:f,rect:new createjs.Rectangle(k%h*a,(k/h|
0)*g,a,g),regX:this._regX,regY:this._regY});b+=j}this._numFrames=b}};createjs.SpriteSheet=c})();this.createjs=this.createjs||{};
(function(){function c(b,a,c){this.f=b;this.params=a;this.path=null==c?!0:c}c.prototype.exec=function(b){this.f.apply(b,this.params)};var a=function(){this.initialize()},b=a.prototype;a.getRGB=function(b,a,c,e){null!=b&&null==c&&(e=a,c=b&255,a=b>>8&255,b=b>>16&255);return null==e?"rgb("+b+","+a+","+c+")":"rgba("+b+","+a+","+c+","+e+")"};a.getHSL=function(b,a,c,e){return null==e?"hsl("+b%360+","+a+"%,"+c+"%)":"hsla("+b%360+","+a+"%,"+c+"%,"+e+")"};a.Command=c;a.BASE_64={A:0,B:1,C:2,D:3,E:4,F:5,G:6,
H:7,I:8,J:9,K:10,L:11,M:12,N:13,O:14,P:15,Q:16,R:17,S:18,T:19,U:20,V:21,W:22,X:23,Y:24,Z:25,a:26,b:27,c:28,d:29,e:30,f:31,g:32,h:33,i:34,j:35,k:36,l:37,m:38,n:39,o:40,p:41,q:42,r:43,s:44,t:45,u:46,v:47,w:48,x:49,y:50,z:51,"0":52,1:53,2:54,3:55,4:56,5:57,6:58,7:59,8:60,9:61,"+":62,"/":63};a.STROKE_CAPS_MAP=["butt","round","square"];a.STROKE_JOINTS_MAP=["miter","round","bevel"];a._ctx=(createjs.createCanvas?createjs.createCanvas():document.createElement("canvas")).getContext("2d");a.beginCmd=new c(a._ctx.beginPath,
[],!1);a.fillCmd=new c(a._ctx.fill,[],!1);a.strokeCmd=new c(a._ctx.stroke,[],!1);b._strokeInstructions=null;b._strokeStyleInstructions=null;b._strokeIgnoreScale=!1;b._fillInstructions=null;b._fillMatrix=null;b._instructions=null;b._oldInstructions=null;b._activeInstructions=null;b._active=!1;b._dirty=!1;b.initialize=function(){this.clear();this._ctx=a._ctx};b.isEmpty=function(){return!(this._instructions.length||this._oldInstructions.length||this._activeInstructions.length)};b.draw=function(b){this._dirty&&
this._updateInstructions();for(var a=this._instructions,c=0,e=a.length;c<e;c++)a[c].exec(b)};b.drawAsPath=function(b){this._dirty&&this._updateInstructions();for(var a,c=this._instructions,e=0,f=c.length;e<f;e++)((a=c[e]).path||0==e)&&a.exec(b)};b.moveTo=function(b,a){this._activeInstructions.push(new c(this._ctx.moveTo,[b,a]));return this};b.lineTo=function(b,a){this._dirty=this._active=!0;this._activeInstructions.push(new c(this._ctx.lineTo,[b,a]));return this};b.arcTo=function(b,a,d,e,f){this._dirty=
this._active=!0;this._activeInstructions.push(new c(this._ctx.arcTo,[b,a,d,e,f]));return this};b.arc=function(b,a,d,e,f,h){this._dirty=this._active=!0;null==h&&(h=!1);this._activeInstructions.push(new c(this._ctx.arc,[b,a,d,e,f,h]));return this};b.quadraticCurveTo=function(b,a,d,e){this._dirty=this._active=!0;this._activeInstructions.push(new c(this._ctx.quadraticCurveTo,[b,a,d,e]));return this};b.bezierCurveTo=function(b,a,d,e,f,h){this._dirty=this._active=!0;this._activeInstructions.push(new c(this._ctx.bezierCurveTo,
[b,a,d,e,f,h]));return this};b.rect=function(b,a,d,e){this._dirty=this._active=!0;this._activeInstructions.push(new c(this._ctx.rect,[b,a,d,e]));return this};b.closePath=function(){this._active&&(this._dirty=!0,this._activeInstructions.push(new c(this._ctx.closePath,[])));return this};b.clear=function(){this._instructions=[];this._oldInstructions=[];this._activeInstructions=[];this._strokeStyleInstructions=this._strokeInstructions=this._fillInstructions=this._fillMatrix=null;this._active=this._dirty=
this._strokeIgnoreScale=!1;return this};b.beginFill=function(b){this._active&&this._newPath();this._fillInstructions=b?[new c(this._setProp,["fillStyle",b],!1)]:null;this._fillMatrix=null;return this};b.beginLinearGradientFill=function(b,a,d,e,f,h){this._active&&this._newPath();d=this._ctx.createLinearGradient(d,e,f,h);e=0;for(f=b.length;e<f;e++)d.addColorStop(a[e],b[e]);this._fillInstructions=[new c(this._setProp,["fillStyle",d],!1)];this._fillMatrix=null;return this};b.beginRadialGradientFill=function(b,
a,d,e,f,h,j,k){this._active&&this._newPath();d=this._ctx.createRadialGradient(d,e,f,h,j,k);e=0;for(f=b.length;e<f;e++)d.addColorStop(a[e],b[e]);this._fillInstructions=[new c(this._setProp,["fillStyle",d],!1)];this._fillMatrix=null;return this};b.beginBitmapFill=function(b,a,d){this._active&&this._newPath();b=this._ctx.createPattern(b,a||"");this._fillInstructions=[new c(this._setProp,["fillStyle",b],!1)];this._fillMatrix=d?[d.a,d.b,d.c,d.d,d.tx,d.ty]:null;return this};b.endFill=function(){return this.beginFill()};
b.setStrokeStyle=function(b,g,d,e,f){this._active&&this._newPath();this._strokeStyleInstructions=[new c(this._setProp,["lineWidth",null==b?"1":b],!1),new c(this._setProp,["lineCap",null==g?"butt":isNaN(g)?g:a.STROKE_CAPS_MAP[g]],!1),new c(this._setProp,["lineJoin",null==d?"miter":isNaN(d)?d:a.STROKE_JOINTS_MAP[d]],!1),new c(this._setProp,["miterLimit",null==e?"10":e],!1)];this._strokeIgnoreScale=f;return this};b.beginStroke=function(b){this._active&&this._newPath();this._strokeInstructions=b?[new c(this._setProp,
["strokeStyle",b],!1)]:null;return this};b.beginLinearGradientStroke=function(b,a,d,e,f,h){this._active&&this._newPath();d=this._ctx.createLinearGradient(d,e,f,h);e=0;for(f=b.length;e<f;e++)d.addColorStop(a[e],b[e]);this._strokeInstructions=[new c(this._setProp,["strokeStyle",d],!1)];return this};b.beginRadialGradientStroke=function(b,a,d,e,f,h,j,k){this._active&&this._newPath();d=this._ctx.createRadialGradient(d,e,f,h,j,k);e=0;for(f=b.length;e<f;e++)d.addColorStop(a[e],b[e]);this._strokeInstructions=
[new c(this._setProp,["strokeStyle",d],!1)];return this};b.beginBitmapStroke=function(b,a){this._active&&this._newPath();var d=this._ctx.createPattern(b,a||"");this._strokeInstructions=[new c(this._setProp,["strokeStyle",d],!1)];return this};b.endStroke=function(){this.beginStroke();return this};b.curveTo=b.quadraticCurveTo;b.drawRect=b.rect;b.drawRoundRect=function(b,a,c,e,f){this.drawRoundRectComplex(b,a,c,e,f,f,f,f);return this};b.drawRoundRectComplex=function(b,a,d,e,f,h,j,k){var l=(d<e?d:e)/
2,m=0,q=0,p=0,s=0;0>f&&(f*=m=-1);f>l&&(f=l);0>h&&(h*=q=-1);h>l&&(h=l);0>j&&(j*=p=-1);j>l&&(j=l);0>k&&(k*=s=-1);k>l&&(k=l);this._dirty=this._active=!0;var l=this._ctx.arcTo,r=this._ctx.lineTo;this._activeInstructions.push(new c(this._ctx.moveTo,[b+d-h,a]),new c(l,[b+d+h*q,a-h*q,b+d,a+h,h]),new c(r,[b+d,a+e-j]),new c(l,[b+d+j*p,a+e+j*p,b+d-j,a+e,j]),new c(r,[b+k,a+e]),new c(l,[b-k*s,a+e+k*s,b,a+e-k,k]),new c(r,[b,a+f]),new c(l,[b-f*m,a-f*m,b+f,a,f]),new c(this._ctx.closePath));return this};b.drawCircle=
function(b,a,c){this.arc(b,a,c,0,2*Math.PI);return this};b.drawEllipse=function(b,a,d,e){this._dirty=this._active=!0;var f=0.5522848*(d/2),h=0.5522848*(e/2),j=b+d,k=a+e;d=b+d/2;e=a+e/2;this._activeInstructions.push(new c(this._ctx.moveTo,[b,e]),new c(this._ctx.bezierCurveTo,[b,e-h,d-f,a,d,a]),new c(this._ctx.bezierCurveTo,[d+f,a,j,e-h,j,e]),new c(this._ctx.bezierCurveTo,[j,e+h,d+f,k,d,k]),new c(this._ctx.bezierCurveTo,[d-f,k,b,e+h,b,e]));return this};b.inject=function(b,a){this._dirty=this._active=
!0;this._activeInstructions.push(new c(b,[a]));return this};b.drawPolyStar=function(b,a,d,e,f,h){this._dirty=this._active=!0;null==f&&(f=0);f=1-f;h=null==h?0:h/(180/Math.PI);var j=Math.PI/e;this._activeInstructions.push(new c(this._ctx.moveTo,[b+Math.cos(h)*d,a+Math.sin(h)*d]));for(var k=0;k<e;k++)h+=j,1!=f&&this._activeInstructions.push(new c(this._ctx.lineTo,[b+Math.cos(h)*d*f,a+Math.sin(h)*d*f])),h+=j,this._activeInstructions.push(new c(this._ctx.lineTo,[b+Math.cos(h)*d,a+Math.sin(h)*d]));return this};
b.decodePath=function(b){for(var g=[this.moveTo,this.lineTo,this.quadraticCurveTo,this.bezierCurveTo,this.closePath],c=[2,2,4,6,0],e=0,f=b.length,h=[],j=0,k=0,l=a.BASE_64;e<f;){var m=b.charAt(e),q=l[m],p=q>>3,s=g[p];if(!s||q&3)throw"bad path data (@"+e+"): "+m;m=c[p];p||(j=k=0);h.length=0;e++;q=(q>>2&1)+2;for(p=0;p<m;p++){var r=l[b.charAt(e)],v=r>>5?-1:1,r=(r&31)<<6|l[b.charAt(e+1)];3==q&&(r=r<<6|l[b.charAt(e+2)]);r=v*r/10;p%2?j=r+=j:k=r+=k;h[p]=r;e+=q}s.apply(this,h)}return this};b.clone=function(){var b=
new a;b._instructions=this._instructions.slice();b._activeInstructions=this._activeInstructions.slice();b._oldInstructions=this._oldInstructions.slice();this._fillInstructions&&(b._fillInstructions=this._fillInstructions.slice());this._strokeInstructions&&(b._strokeInstructions=this._strokeInstructions.slice());this._strokeStyleInstructions&&(b._strokeStyleInstructions=this._strokeStyleInstructions.slice());b._active=this._active;b._dirty=this._dirty;b._fillMatrix=this._fillMatrix;b._strokeIgnoreScale=
this._strokeIgnoreScale;return b};b.toString=function(){return"[Graphics]"};b.mt=b.moveTo;b.lt=b.lineTo;b.at=b.arcTo;b.bt=b.bezierCurveTo;b.qt=b.quadraticCurveTo;b.a=b.arc;b.r=b.rect;b.cp=b.closePath;b.c=b.clear;b.f=b.beginFill;b.lf=b.beginLinearGradientFill;b.rf=b.beginRadialGradientFill;b.bf=b.beginBitmapFill;b.ef=b.endFill;b.ss=b.setStrokeStyle;b.s=b.beginStroke;b.ls=b.beginLinearGradientStroke;b.rs=b.beginRadialGradientStroke;b.bs=b.beginBitmapStroke;b.es=b.endStroke;b.dr=b.drawRect;b.rr=b.drawRoundRect;
b.rc=b.drawRoundRectComplex;b.dc=b.drawCircle;b.de=b.drawEllipse;b.dp=b.drawPolyStar;b.p=b.decodePath;b._updateInstructions=function(){this._instructions=this._oldInstructions.slice();this._instructions.push(a.beginCmd);this._appendInstructions(this._fillInstructions);this._appendInstructions(this._strokeInstructions);this._appendInstructions(this._strokeInstructions&&this._strokeStyleInstructions);this._appendInstructions(this._activeInstructions);this._fillInstructions&&this._appendDraw(a.fillCmd,
this._fillMatrix);this._strokeInstructions&&this._appendDraw(a.strokeCmd,this._strokeIgnoreScale&&[1,0,0,1,0,0])};b._appendInstructions=function(b){b&&this._instructions.push.apply(this._instructions,b)};b._appendDraw=function(b,a){a?this._instructions.push(new c(this._ctx.save,[],!1),new c(this._ctx.setTransform,a,!1),b,new c(this._ctx.restore,[],!1)):this._instructions.push(b)};b._newPath=function(){this._dirty&&this._updateInstructions();this._oldInstructions=this._instructions;this._activeInstructions=
[];this._active=this._dirty=!1};b._setProp=function(b,a){this[b]=a};createjs.Graphics=a})();this.createjs=this.createjs||{};
(function(){var c=function(){this.initialize()},a=c.prototype;c.suppressCrossDomainErrors=!1;c._hitTestCanvas=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas");c._hitTestCanvas.width=c._hitTestCanvas.height=1;c._hitTestContext=c._hitTestCanvas.getContext("2d");c._nextCacheID=1;a.alpha=1;a.cacheCanvas=null;a.id=-1;a.mouseEnabled=!0;a.name=null;a.parent=null;a.regX=0;a.regY=0;a.rotation=0;a.scaleX=1;a.scaleY=1;a.skewX=0;a.skewY=0;a.shadow=null;a.visible=!0;a.x=0;a.y=0;a.compositeOperation=
null;a.snapToPixel=!1;a.onPress=null;a.onClick=null;a.onDoubleClick=null;a.onMouseOver=null;a.onMouseOut=null;a.onTick=null;a.filters=null;a.cacheID=0;a.mask=null;a.hitArea=null;a.cursor=null;a.addEventListener=null;a.removeEventListener=null;a.removeAllEventListeners=null;a.dispatchEvent=null;a.hasEventListener=null;a._listeners=null;createjs.EventDispatcher.initialize(a);a._cacheOffsetX=0;a._cacheOffsetY=0;a._cacheScale=1;a._cacheDataURLID=0;a._cacheDataURL=null;a._matrix=null;a.initialize=function(){this.id=
createjs.UID.get();this._matrix=new createjs.Matrix2D};a.isVisible=function(){return!(!this.visible||!(0<this.alpha&&0!=this.scaleX&&0!=this.scaleY))};a.draw=function(b,a){var g=this.cacheCanvas;if(a||!g)return!1;var c=this._cacheScale;b.drawImage(g,this._cacheOffsetX,this._cacheOffsetY,g.width/c,g.height/c);return!0};a.updateContext=function(b){var a,g=this.mask;g&&(g.graphics&&!g.graphics.isEmpty())&&(a=g.getMatrix(g._matrix),b.transform(a.a,a.b,a.c,a.d,a.tx,a.ty),g.graphics.drawAsPath(b),b.clip(),
a.invert(),b.transform(a.a,a.b,a.c,a.d,a.tx,a.ty));a=this._matrix.identity().appendTransform(this.x,this.y,this.scaleX,this.scaleY,this.rotation,this.skewX,this.skewY,this.regX,this.regY);createjs.Stage._snapToPixelEnabled&&this.snapToPixel?b.transform(a.a,a.b,a.c,a.d,a.tx+0.5|0,a.ty+0.5|0):b.transform(a.a,a.b,a.c,a.d,a.tx,a.ty);b.globalAlpha*=this.alpha;this.compositeOperation&&(b.globalCompositeOperation=this.compositeOperation);this.shadow&&this._applyShadow(b,this.shadow)};a.cache=function(b,
a,g,c,e){e=e||1;this.cacheCanvas||(this.cacheCanvas=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas"));this.cacheCanvas.width=Math.ceil(g*e);this.cacheCanvas.height=Math.ceil(c*e);this._cacheOffsetX=b;this._cacheOffsetY=a;this._cacheScale=e||1;this.updateCache()};a.updateCache=function(b){var a=this.cacheCanvas,g=this._cacheScale,d=this._cacheOffsetX*g,e=this._cacheOffsetY*g;if(!a)throw"cache() must be called before updateCache()";var f=a.getContext("2d");f.save();b||
f.clearRect(0,0,a.width+1,a.height+1);f.globalCompositeOperation=b;f.setTransform(g,0,0,g,-d,-e);this.draw(f,!0);this._applyFilters();f.restore();this.cacheID=c._nextCacheID++};a.uncache=function(){this._cacheDataURL=this.cacheCanvas=null;this.cacheID=this._cacheOffsetX=this._cacheOffsetY=0;this._cacheScale=1};a.getCacheDataURL=function(){if(!this.cacheCanvas)return null;this.cacheID!=this._cacheDataURLID&&(this._cacheDataURL=this.cacheCanvas.toDataURL());return this._cacheDataURL};a.getStage=function(){for(var b=
this;b.parent;)b=b.parent;return b instanceof createjs.Stage?b:null};a.localToGlobal=function(b,a){var g=this.getConcatenatedMatrix(this._matrix);if(null==g)return null;g.append(1,0,0,1,b,a);return new createjs.Point(g.tx,g.ty)};a.globalToLocal=function(b,a){var g=this.getConcatenatedMatrix(this._matrix);if(null==g)return null;g.invert();g.append(1,0,0,1,b,a);return new createjs.Point(g.tx,g.ty)};a.localToLocal=function(b,a,g){b=this.localToGlobal(b,a);return g.globalToLocal(b.x,b.y)};a.setTransform=
function(b,a,g,c,e,f,h,j,k){this.x=b||0;this.y=a||0;this.scaleX=null==g?1:g;this.scaleY=null==c?1:c;this.rotation=e||0;this.skewX=f||0;this.skewY=h||0;this.regX=j||0;this.regY=k||0;return this};a.getMatrix=function(b){return(b?b.identity():new createjs.Matrix2D).appendTransform(this.x,this.y,this.scaleX,this.scaleY,this.rotation,this.skewX,this.skewY,this.regX,this.regY).appendProperties(this.alpha,this.shadow,this.compositeOperation)};a.getConcatenatedMatrix=function(b){b?b.identity():b=new createjs.Matrix2D;
for(var a=this;null!=a;)b.prependTransform(a.x,a.y,a.scaleX,a.scaleY,a.rotation,a.skewX,a.skewY,a.regX,a.regY).prependProperties(a.alpha,a.shadow,a.compositeOperation),a=a.parent;return b};a.hitTest=function(b,a){var g=c._hitTestContext;g.setTransform(1,0,0,1,-b,-a);this.draw(g);var d=this._testHit(g);g.setTransform(1,0,0,1,0,0);g.clearRect(0,0,2,2);return d};a.set=function(b){for(var a in b)this[a]=b[a];return this};a.clone=function(){var b=new c;this.cloneProps(b);return b};a.toString=function(){return"[DisplayObject (name="+
this.name+")]"};a.cloneProps=function(b){b.alpha=this.alpha;b.name=this.name;b.regX=this.regX;b.regY=this.regY;b.rotation=this.rotation;b.scaleX=this.scaleX;b.scaleY=this.scaleY;b.shadow=this.shadow;b.skewX=this.skewX;b.skewY=this.skewY;b.visible=this.visible;b.x=this.x;b.y=this.y;b.mouseEnabled=this.mouseEnabled;b.compositeOperation=this.compositeOperation;this.cacheCanvas&&(b.cacheCanvas=this.cacheCanvas.cloneNode(!0),b.cacheCanvas.getContext("2d").putImageData(this.cacheCanvas.getContext("2d").getImageData(0,
0,this.cacheCanvas.width,this.cacheCanvas.height),0,0))};a._applyShadow=function(b,a){a=a||Shadow.identity;b.shadowColor=a.color;b.shadowOffsetX=a.offsetX;b.shadowOffsetY=a.offsetY;b.shadowBlur=a.blur};a._tick=function(b){this.onTick&&this.onTick.apply(this,b);var a=this._listeners;a&&a.tick&&this.dispatchEvent({type:"tick",params:b})};a._testHit=function(b){try{var a=1<b.getImageData(0,0,1,1).data[3]}catch(g){if(!c.suppressCrossDomainErrors)throw"An error has occurred. This is most likely due to security restrictions on reading canvas pixel data with local or cross-domain images.";
}return a};a._applyFilters=function(){if(this.filters&&0!=this.filters.length&&this.cacheCanvas)for(var b=this.filters.length,a=this.cacheCanvas.getContext("2d"),g=this.cacheCanvas.width,c=this.cacheCanvas.height,e=0;e<b;e++)this.filters[e].applyFilter(a,0,0,g,c)};a._hasMouseHandler=function(b){var a=this._listeners;return!!(b&1&&(this.onPress||this.onClick||this.onDoubleClick||a&&(this.hasEventListener("mousedown")||this.hasEventListener("click")||this.hasEventListener("dblclick")))||b&2&&(this.onMouseOver||
this.onMouseOut||this.cursor||a&&(this.hasEventListener("mouseover")||this.hasEventListener("mouseout"))))};createjs.DisplayObject=c})();this.createjs=this.createjs||{};
(function(){var c=function(){this.initialize()},a=c.prototype=new createjs.DisplayObject;a.children=null;a.DisplayObject_initialize=a.initialize;a.initialize=function(){this.DisplayObject_initialize();this.children=[]};a.isVisible=function(){var b=this.cacheCanvas||this.children.length;return!(!this.visible||!(0<this.alpha&&0!=this.scaleX&&0!=this.scaleY&&b))};a.DisplayObject_draw=a.draw;a.draw=function(b,a){if(this.DisplayObject_draw(b,a))return!0;for(var g=this.children.slice(0),c=0,e=g.length;c<
e;c++){var f=g[c];f.isVisible()&&(b.save(),f.updateContext(b),f.draw(b),b.restore())}return!0};a.addChild=function(b){if(null==b)return b;var a=arguments.length;if(1<a){for(var c=0;c<a;c++)this.addChild(arguments[c]);return arguments[a-1]}b.parent&&b.parent.removeChild(b);b.parent=this;this.children.push(b);return b};a.addChildAt=function(b,a){var c=arguments.length,d=arguments[c-1];if(0>d||d>this.children.length)return arguments[c-2];if(2<c){for(var e=0;e<c-1;e++)this.addChildAt(arguments[e],d+e);
return arguments[c-2]}b.parent&&b.parent.removeChild(b);b.parent=this;this.children.splice(a,0,b);return b};a.removeChild=function(b){var a=arguments.length;if(1<a){for(var c=!0,d=0;d<a;d++)c=c&&this.removeChild(arguments[d]);return c}return this.removeChildAt(this.children.indexOf(b))};a.removeChildAt=function(b){var a=arguments.length;if(1<a){for(var c=[],d=0;d<a;d++)c[d]=arguments[d];c.sort(function(b,a){return a-b});for(var e=!0,d=0;d<a;d++)e=e&&this.removeChildAt(c[d]);return e}if(0>b||b>this.children.length-
1)return!1;if(a=this.children[b])a.parent=null;this.children.splice(b,1);return!0};a.removeAllChildren=function(){for(var b=this.children;b.length;)b.pop().parent=null};a.getChildAt=function(b){return this.children[b]};a.getChildByName=function(b){for(var a=this.children,c=0,d=a.length;c<d;c++)if(a[c].name==b)return a[c];return null};a.sortChildren=function(b){this.children.sort(b)};a.getChildIndex=function(b){return this.children.indexOf(b)};a.getNumChildren=function(){return this.children.length};
a.swapChildrenAt=function(b,a){var c=this.children,d=c[b],e=c[a];d&&e&&(c[b]=e,c[a]=d)};a.swapChildren=function(b,a){for(var c=this.children,d,e,f=0,h=c.length;f<h&&!(c[f]==b&&(d=f),c[f]==a&&(e=f),null!=d&&null!=e);f++);f!=h&&(c[d]=a,c[e]=b)};a.setChildIndex=function(b,a){var c=this.children,d=c.length;if(!(b.parent!=this||0>a||a>=d)){for(var e=0;e<d&&c[e]!=b;e++);e==d||e==a||(c.splice(e,1),c.splice(a,0,b))}};a.contains=function(b){for(;b;){if(b==this)return!0;b=b.parent}return!1};a.hitTest=function(b,
a){return null!=this.getObjectUnderPoint(b,a)};a.getObjectsUnderPoint=function(b,a){var c=[],d=this.localToGlobal(b,a);this._getObjectsUnderPoint(d.x,d.y,c);return c};a.getObjectUnderPoint=function(b,a){var c=this.localToGlobal(b,a);return this._getObjectsUnderPoint(c.x,c.y)};a.clone=function(b){var a=new c;this.cloneProps(a);if(b)for(var g=a.children=[],d=0,e=this.children.length;d<e;d++){var f=this.children[d].clone(b);f.parent=a;g.push(f)}return a};a.toString=function(){return"[Container (name="+
this.name+")]"};a.DisplayObject__tick=a._tick;a._tick=function(b){for(var a=this.children.length-1;0<=a;a--){var c=this.children[a];c._tick&&c._tick(b)}this.DisplayObject__tick(b)};a._getObjectsUnderPoint=function(b,a,g,d){var e=createjs.DisplayObject._hitTestContext,f=this._matrix,h=this._hasMouseHandler(d);if(!this.hitArea&&(this.cacheCanvas&&h)&&(this.getConcatenatedMatrix(f),e.setTransform(f.a,f.b,f.c,f.d,f.tx-b,f.ty-a),e.globalAlpha=f.alpha,this.draw(e),this._testHit(e)))return e.setTransform(1,
0,0,1,0,0),e.clearRect(0,0,2,2),this;for(var j=this.children.length-1;0<=j;j--){var k=this.children[j],l=k.hitArea;if(k.visible&&!(!l&&!k.isVisible()||d&&!k.mouseEnabled)){var m=d&&k._hasMouseHandler(d);if(k instanceof c&&(!l||!m))if(h){if(k=k._getObjectsUnderPoint(b,a))return this}else{if(k=k._getObjectsUnderPoint(b,a,g,d),!g&&k)return k}else if(!d||h||m)if(k.getConcatenatedMatrix(f),l&&(f.appendTransform(l.x,l.y,l.scaleX,l.scaleY,l.rotation,l.skewX,l.skewY,l.regX,l.regY),f.alpha=l.alpha),e.globalAlpha=
f.alpha,e.setTransform(f.a,f.b,f.c,f.d,f.tx-b,f.ty-a),(l||k).draw(e),this._testHit(e)){e.setTransform(1,0,0,1,0,0);e.clearRect(0,0,2,2);if(h)return this;if(g)g.push(k);else return k}}}return null};createjs.Container=c})();this.createjs=this.createjs||{};
(function(){var c=function(b){this.initialize(b)},a=c.prototype=new createjs.Container;c._snapToPixelEnabled=!1;a.autoClear=!0;a.canvas=null;a.mouseX=0;a.mouseY=0;a.onMouseMove=null;a.onMouseUp=null;a.onMouseDown=null;a.snapToPixelEnabled=!1;a.mouseInBounds=!1;a.tickOnUpdate=!0;a.mouseMoveOutside=!1;a._pointerData=null;a._pointerCount=0;a._primaryPointerID=null;a._mouseOverIntervalID=null;a.Container_initialize=a.initialize;a.initialize=function(b){this.Container_initialize();this.canvas="string"==
typeof b?document.getElementById(b):b;this._pointerData={};this.enableDOMEvents(!0)};a.update=function(){if(this.canvas){this.autoClear&&this.clear();c._snapToPixelEnabled=this.snapToPixelEnabled;this.tickOnUpdate&&this._tick(arguments.length?arguments:null);var b=this.canvas.getContext("2d");b.save();this.updateContext(b);this.draw(b,!1);b.restore()}};a.tick=a.update;a.handleEvent=function(b){"tick"==b.type&&this.update(b)};a.clear=function(){if(this.canvas){var b=this.canvas.getContext("2d");b.setTransform(1,
0,0,1,0,0);b.clearRect(0,0,this.canvas.width+1,this.canvas.height+1)}};a.toDataURL=function(b,a){a||(a="image/png");var c=this.canvas.getContext("2d"),d=this.canvas.width,e=this.canvas.height,f;if(b){f=c.getImageData(0,0,d,e);var h=c.globalCompositeOperation;c.globalCompositeOperation="destination-over";c.fillStyle=b;c.fillRect(0,0,d,e)}var j=this.canvas.toDataURL(a);b&&(c.clearRect(0,0,d+1,e+1),c.putImageData(f,0,0),c.globalCompositeOperation=h);return j};a.enableMouseOver=function(b){this._mouseOverIntervalID&&
(clearInterval(this._mouseOverIntervalID),this._mouseOverIntervalID=null);if(null==b)b=20;else if(0>=b)return;var a=this;this._mouseOverIntervalID=setInterval(function(){a._testMouseOver()},1E3/Math.min(50,b))};a.enableDOMEvents=function(b){null==b&&(b=!0);var a,c=this._eventListeners;if(!b&&c){for(a in c)b=c[a],b.t.removeEventListener(a,b.f);this._eventListeners=null}else if(b&&!c&&this.canvas){b=window.addEventListener?window:document;var d=this,c=this._eventListeners={};c.mouseup={t:b,f:function(b){d._handleMouseUp(b)}};
c.mousemove={t:b,f:function(b){d._handleMouseMove(b)}};c.dblclick={t:b,f:function(b){d._handleDoubleClick(b)}};c.mousedown={t:this.canvas,f:function(b){d._handleMouseDown(b)}};for(a in c)b=c[a],b.t.addEventListener(a,b.f)}};a.clone=function(){var b=new c(null);this.cloneProps(b);return b};a.toString=function(){return"[Stage (name="+this.name+")]"};a._getPointerData=function(b){var a=this._pointerData[b];a||(a=this._pointerData[b]={x:0,y:0},null==this._primaryPointerID&&(this._primaryPointerID=b));
return a};a._handleMouseMove=function(b){b||(b=window.event);this._handlePointerMove(-1,b,b.pageX,b.pageY)};a._handlePointerMove=function(b,a,c,d){if(this.canvas){var e=this._getPointerData(b),f=e.inBounds;this._updatePointerPosition(b,c,d);if(f||e.inBounds||this.mouseMoveOutside){if(this.onMouseMove||this.hasEventListener("stagemousemove"))c=new createjs.MouseEvent("stagemousemove",e.x,e.y,this,a,b,b==this._primaryPointerID,e.rawX,e.rawY),this.onMouseMove&&this.onMouseMove(c),this.dispatchEvent(c);
if((d=e.event)&&(d.onMouseMove||d.hasEventListener("mousemove")))c=new createjs.MouseEvent("mousemove",e.x,e.y,d.target,a,b,b==this._primaryPointerID,e.rawX,e.rawY),d.onMouseMove&&d.onMouseMove(c),d.dispatchEvent(c,d.target)}}};a._updatePointerPosition=function(b,a,c){var d=this._getElementRect(this.canvas);a-=d.left;c-=d.top;var e=this.canvas.width,f=this.canvas.height;a/=(d.right-d.left)/e;c/=(d.bottom-d.top)/f;d=this._getPointerData(b);(d.inBounds=0<=a&&0<=c&&a<=e-1&&c<=f-1)?(d.x=a,d.y=c):this.mouseMoveOutside&&
(d.x=0>a?0:a>e-1?e-1:a,d.y=0>c?0:c>f-1?f-1:c);d.rawX=a;d.rawY=c;b==this._primaryPointerID&&(this.mouseX=d.x,this.mouseY=d.y,this.mouseInBounds=d.inBounds)};a._getElementRect=function(b){var a;try{a=b.getBoundingClientRect()}catch(c){a={top:b.offsetTop,left:b.offsetLeft,width:b.offsetWidth,height:b.offsetHeight}}var d=(window.pageXOffset||document.scrollLeft||0)-(document.clientLeft||document.body.clientLeft||0),e=(window.pageYOffset||document.scrollTop||0)-(document.clientTop||document.body.clientTop||
0),f=window.getComputedStyle?getComputedStyle(b):b.currentStyle;b=parseInt(f.paddingLeft)+parseInt(f.borderLeftWidth);var h=parseInt(f.paddingTop)+parseInt(f.borderTopWidth),j=parseInt(f.paddingRight)+parseInt(f.borderRightWidth),f=parseInt(f.paddingBottom)+parseInt(f.borderBottomWidth);return{left:a.left+d+b,right:a.right+d-j,top:a.top+e+h,bottom:a.bottom+e-f}};a._handleMouseUp=function(b){this._handlePointerUp(-1,b,!1)};a._handlePointerUp=function(b,a,c){var d=this._getPointerData(b),e;if(this.onMouseMove||
this.hasEventListener("stagemouseup"))e=new createjs.MouseEvent("stagemouseup",d.x,d.y,this,a,b,b==this._primaryPointerID,d.rawX,d.rawY),this.onMouseUp&&this.onMouseUp(e),this.dispatchEvent(e);var f=d.event;if(f&&(f.onMouseUp||f.hasEventListener("mouseup")))e=new createjs.MouseEvent("mouseup",d.x,d.y,f.target,a,b,b==this._primaryPointerID,d.rawX,d.rawY),f.onMouseUp&&f.onMouseUp(e),f.dispatchEvent(e,f.target);if((f=d.target)&&(f.onClick||f.hasEventListener("click"))&&this._getObjectsUnderPoint(d.x,
d.y,null,!0,this._mouseOverIntervalID?3:1)==f)e=new createjs.MouseEvent("click",d.x,d.y,f,a,b,b==this._primaryPointerID,d.rawX,d.rawY),f.onClick&&f.onClick(e),f.dispatchEvent(e);c?(b==this._primaryPointerID&&(this._primaryPointerID=null),delete this._pointerData[b]):d.event=d.target=null};a._handleMouseDown=function(b){this._handlePointerDown(-1,b,!1)};a._handlePointerDown=function(b,a,c,d){var e=this._getPointerData(b);null!=d&&this._updatePointerPosition(b,c,d);if(this.onMouseDown||this.hasEventListener("stagemousedown"))c=
new createjs.MouseEvent("stagemousedown",e.x,e.y,this,a,b,b==this._primaryPointerID,e.rawX,e.rawY),this.onMouseDown&&this.onMouseDown(c),this.dispatchEvent(c);if(d=this._getObjectsUnderPoint(e.x,e.y,null,this._mouseOverIntervalID?3:1))if(e.target=d,d.onPress||d.hasEventListener("mousedown"))if(c=new createjs.MouseEvent("mousedown",e.x,e.y,d,a,b,b==this._primaryPointerID,e.rawX,e.rawY),d.onPress&&d.onPress(c),d.dispatchEvent(c),c.onMouseMove||c.onMouseUp||c.hasEventListener("mousemove")||c.hasEventListener("mouseup"))e.event=
c};a._testMouseOver=function(){if(-1==this._primaryPointerID&&!(this.mouseX==this._mouseOverX&&this.mouseY==this._mouseOverY&&this.mouseInBounds)){var b=null;this.mouseInBounds&&(b=this._getObjectsUnderPoint(this.mouseX,this.mouseY,null,3),this._mouseOverX=this.mouseX,this._mouseOverY=this.mouseY);var a=this._mouseOverTarget;if(a!=b){var c=this._getPointerData(-1);if(a&&(a.onMouseOut||a.hasEventListener("mouseout"))){var d=new createjs.MouseEvent("mouseout",c.x,c.y,a,null,-1,c.rawX,c.rawY);a.onMouseOut&&
a.onMouseOut(d);a.dispatchEvent(d)}a&&(this.canvas.style.cursor="");if(b&&(b.onMouseOver||b.hasEventListener("mouseover")))d=new createjs.MouseEvent("mouseover",c.x,c.y,b,null,-1,c.rawX,c.rawY),b.onMouseOver&&b.onMouseOver(d),b.dispatchEvent(d);b&&(this.canvas.style.cursor=b.cursor||"");this._mouseOverTarget=b}}};a._handleDoubleClick=function(b){var a=this._getPointerData(-1),c=this._getObjectsUnderPoint(a.x,a.y,null,this._mouseOverIntervalID?3:1);if(c&&(c.onDoubleClick||c.hasEventListener("dblclick")))evt=
new createjs.MouseEvent("dblclick",a.x,a.y,c,b,-1,!0,a.rawX,a.rawY),c.onDoubleClick&&c.onDoubleClick(evt),c.dispatchEvent(evt)};createjs.Stage=c})();this.createjs=this.createjs||{};
(function(){var c=function(b){this.initialize(b)},a=c.prototype=new createjs.DisplayObject;a.image=null;a.snapToPixel=!0;a.sourceRect=null;a.DisplayObject_initialize=a.initialize;a.initialize=function(b){this.DisplayObject_initialize();"string"==typeof b?(this.image=new Image,this.image.src=b):this.image=b};a.isVisible=function(){var b=this.cacheCanvas||this.image&&(this.image.complete||this.image.getContext||2<=this.image.readyState);return!(!this.visible||!(0<this.alpha&&0!=this.scaleX&&0!=this.scaleY&&
b))};a.DisplayObject_draw=a.draw;a.draw=function(b,a){if(this.DisplayObject_draw(b,a))return!0;var c=this.sourceRect;c?b.drawImage(this.image,c.x,c.y,c.width,c.height,0,0,c.width,c.height):b.drawImage(this.image,0,0);return!0};a.clone=function(){var b=new c(this.image);this.sourceRect&&(b.sourceRect=this.sourceRect.clone());this.cloneProps(b);return b};a.toString=function(){return"[Bitmap (name="+this.name+")]"};createjs.Bitmap=c})();this.createjs=this.createjs||{};(function(){if(!createjs.Sprite)throw"BitmapAnimation is deprecated in favour of Sprite. See VERSIONS file for info on changes.";(createjs.BitmapAnimation=function(c){console.log("BitmapAnimation is deprecated in favour of Sprite. See VERSIONS file for info on changes.");this.initialize(c)}).prototype=new createjs.Sprite})();this.createjs=this.createjs||{};
(function(){var c=function(b){this.initialize(b)},a=c.prototype=new createjs.DisplayObject;a.graphics=null;a.DisplayObject_initialize=a.initialize;a.initialize=function(b){this.DisplayObject_initialize();this.graphics=b?b:new createjs.Graphics};a.isVisible=function(){var b=this.cacheCanvas||this.graphics&&!this.graphics.isEmpty();return!(!this.visible||!(0<this.alpha&&0!=this.scaleX&&0!=this.scaleY&&b))};a.DisplayObject_draw=a.draw;a.draw=function(b,a){if(this.DisplayObject_draw(b,a))return!0;this.graphics.draw(b);
return!0};a.clone=function(b){b=new c(b&&this.graphics?this.graphics.clone():this.graphics);this.cloneProps(b);return b};a.toString=function(){return"[Shape (name="+this.name+")]"};createjs.Shape=c})();this.createjs=this.createjs||{};
(function(){var c=function(b,a,c){this.initialize(b,a,c)},a=c.prototype=new createjs.DisplayObject;c._workingContext=(createjs.createCanvas?createjs.createCanvas():document.createElement("canvas")).getContext("2d");a.text="";a.font=null;a.color=null;a.textAlign="left";a.textBaseline="top";a.maxWidth=null;a.outline=0;a.lineHeight=0;a.lineWidth=null;a.DisplayObject_initialize=a.initialize;a.initialize=function(b,a,c){this.DisplayObject_initialize();this.text=b;this.font=a;this.color=c};a.isVisible=
function(){var b=this.cacheCanvas||null!=this.text&&""!==this.text;return!(!this.visible||!(0<this.alpha&&0!=this.scaleX&&0!=this.scaleY&&b))};a.DisplayObject_draw=a.draw;a.draw=function(b,a){if(this.DisplayObject_draw(b,a))return!0;var c=this.color||"#000";this.outline?(b.strokeStyle=c,b.lineWidth=1*this.outline):b.fillStyle=c;b.font=this.font;b.textAlign=this.textAlign||"start";b.textBaseline=this.textBaseline||"alphabetic";this._drawText(b);return!0};a.getMeasuredWidth=function(){return this._getWorkingContext().measureText(this.text).width};
a.getMeasuredLineHeight=function(){return 1.2*this._getWorkingContext().measureText("M").width};a.getMeasuredHeight=function(){return this._drawText()*(this.lineHeight||this.getMeasuredLineHeight())};a.clone=function(){var b=new c(this.text,this.font,this.color);this.cloneProps(b);return b};a.toString=function(){return"[Text (text="+(20<this.text.length?this.text.substr(0,17)+"...":this.text)+")]"};a.DisplayObject_cloneProps=a.cloneProps;a.cloneProps=function(b){this.DisplayObject_cloneProps(b);b.textAlign=
this.textAlign;b.textBaseline=this.textBaseline;b.maxWidth=this.maxWidth;b.outline=this.outline;b.lineHeight=this.lineHeight;b.lineWidth=this.lineWidth};a._getWorkingContext=function(){var b=c._workingContext;b.font=this.font;b.textAlign=this.textAlign||"start";b.textBaseline=this.textBaseline||"alphabetic";return b};a._drawText=function(b){var a=!!b;a||(b=this._getWorkingContext());for(var c=String(this.text).split(/(?:\r\n|\r|\n)/),d=this.lineHeight||this.getMeasuredLineHeight(),e=0,f=0,h=c.length;f<
h;f++){var j=b.measureText(c[f]).width;if(null==this.lineWidth||j<this.lineWidth)a&&this._drawTextLine(b,c[f],e*d);else{for(var j=c[f].split(/(\s)/),k=j[0],l=1,m=j.length;l<m;l+=2)b.measureText(k+j[l]+j[l+1]).width>this.lineWidth?(a&&this._drawTextLine(b,k,e*d),e++,k=j[l+1]):k+=j[l]+j[l+1];a&&this._drawTextLine(b,k,e*d)}e++}return e};a._drawTextLine=function(b,a,c){this.outline?b.strokeText(a,0,c,this.maxWidth||65535):b.fillText(a,0,c,this.maxWidth||65535)};createjs.Text=c})();this.createjs=this.createjs||{};
(function(){var c=function(){throw"SpriteSheetUtils cannot be instantiated";};c._workingCanvas=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas");c._workingContext=c._workingCanvas.getContext("2d");c.addFlippedFrames=function(a,b,n,g){if(b||n||g){var d=0;b&&c._flip(a,++d,!0,!1);n&&c._flip(a,++d,!1,!0);g&&c._flip(a,++d,!0,!0)}};c.extractFrame=function(a,b){isNaN(b)&&(b=a.getAnimation(b).frames[0]);var n=a.getFrame(b);if(!n)return null;var g=n.rect,d=c._workingCanvas;d.width=
g.width;d.height=g.height;c._workingContext.drawImage(n.image,g.x,g.y,g.width,g.height,0,0,g.width,g.height);n=new Image;n.src=d.toDataURL("image/png");return n};c.mergeAlpha=function(a,b,c){c||(c=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas"));c.width=Math.max(b.width,a.width);c.height=Math.max(b.height,a.height);var g=c.getContext("2d");g.save();g.drawImage(a,0,0);g.globalCompositeOperation="destination-in";g.drawImage(b,0,0);g.restore();return c};c._flip=function(a,
b,n,g){for(var d=a._images,e=c._workingCanvas,f=c._workingContext,h=d.length/b,j=0;j<h;j++){var k=d[j];k.__tmp=j;f.setTransform(1,0,0,1,0,0);f.clearRect(0,0,e.width+1,e.height+1);e.width=k.width;e.height=k.height;f.setTransform(n?-1:1,0,0,g?-1:1,n?k.width:0,g?k.height:0);f.drawImage(k,0,0);var l=new Image;l.src=e.toDataURL("image/png");l.width=k.width;l.height=k.height;d.push(l)}f=a._frames;e=f.length/b;for(j=0;j<e;j++){var k=f[j],m=k.rect.clone(),l=d[k.image.__tmp+h*b],q={image:l,rect:m,regX:k.regX,
regY:k.regY};n&&(m.x=l.width-m.x-m.width,q.regX=m.width-k.regX);g&&(m.y=l.height-m.y-m.height,q.regY=m.height-k.regY);f.push(q)}n="_"+(n?"h":"")+(g?"v":"");g=a._animations;a=a._data;d=g.length/b;for(j=0;j<d;j++){f=g[j];k=a[f];h={name:f+n,frequency:k.frequency,next:k.next,frames:[]};k.next&&(h.next+=n);f=k.frames;k=0;for(l=f.length;k<l;k++)h.frames.push(f[k]+e*b);a[h.name]=h;g.push(h.name)}};createjs.SpriteSheetUtils=c})();this.createjs=this.createjs||{};
(function(){var c=function(){this.initialize()},a=c.prototype;c.ERR_DIMENSIONS="frame dimensions exceed max spritesheet dimensions";c.ERR_RUNNING="a build is already running";a.maxWidth=2048;a.maxHeight=2048;a.spriteSheet=null;a.scale=1;a.padding=1;a.timeSlice=0.3;a.progress=-1;a.onComplete=null;a.onProgress=null;a.addEventListener=null;a.removeEventListener=null;a.removeAllEventListeners=null;a.dispatchEvent=null;a.hasEventListener=null;a._listeners=null;createjs.EventDispatcher.initialize(a);a._frames=
null;a._animations=null;a._data=null;a._nextFrameIndex=0;a._index=0;a._timerID=null;a._scale=1;a.initialize=function(){this._frames=[];this._animations={}};a.addFrame=function(b,a,g,d,e,f){if(this._data)throw c.ERR_RUNNING;a=a||b.bounds||b.nominalBounds;!a&&b.getBounds&&(a=b.getBounds());if(!a)return null;g=g||1;return this._frames.push({source:b,sourceRect:a,scale:g,funct:d,params:e,scope:f,index:this._frames.length,height:a.height*g})-1};a.addAnimation=function(b,a,g,d){if(this._data)throw c.ERR_RUNNING;
this._animations[b]={frames:a,next:g,frequency:d}};a.addMovieClip=function(b,a,g){if(this._data)throw c.ERR_RUNNING;var d=b.frameBounds,e=a||b.bounds||b.nominalBounds;!e&&b.getBounds&&(e=b.getBounds());if(!e&&!d)return null;a=this._frames.length;for(var f=b.timeline.duration,h=0;h<f;h++)this.addFrame(b,d&&d[h]?d[h]:e,g,function(b){var a=this.actionsEnabled;this.actionsEnabled=!1;this.gotoAndStop(b);this.actionsEnabled=a},[h],b);h=b.timeline._labels;b=[];for(var j in h)b.push({index:h[j],label:j});
if(b.length){b.sort(function(b,a){return b.index-a.index});h=0;for(j=b.length;h<j;h++){g=b[h].label;for(var d=a+(h==j-1?f:b[h+1].index),e=[],k=a+b[h].index;k<d;k++)e.push(k);this.addAnimation(g,e,!0)}}};a.build=function(){if(this._data)throw c.ERR_RUNNING;for(this._startBuild();this._drawNext(););this._endBuild();return this.spriteSheet};a.buildAsync=function(b){if(this._data)throw c.ERR_RUNNING;this.timeSlice=b;this._startBuild();var a=this;this._timerID=setTimeout(function(){a._run()},50-50*Math.max(0.01,
Math.min(0.99,this.timeSlice||0.3)))};a.stopAsync=function(){clearTimeout(this._timerID);this._data=null};a.clone=function(){throw"SpriteSheetBuilder cannot be cloned.";};a.toString=function(){return"[SpriteSheetBuilder]"};a._startBuild=function(){var b=this.padding||0;this.progress=0;this.spriteSheet=null;this._index=0;this._scale=this.scale;var a=[];this._data={images:[],frames:a,animations:this._animations};var g=this._frames.slice();g.sort(function(b,a){return b.height<=a.height?-1:1});if(g[g.length-
1].height+2*b>this.maxHeight)throw c.ERR_DIMENSIONS;for(var d=0,e=0,f=0;g.length;){var h=this._fillRow(g,d,f,a,b);h.w>e&&(e=h.w);d+=h.h;if(!h.h||!g.length){var j=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas");j.width=this._getSize(e,this.maxWidth);j.height=this._getSize(d,this.maxHeight);this._data.images[f]=j;h.h||(e=d=0,f++)}}};a._getSize=function(b,a){for(var c=4;Math.pow(2,++c)<b;);return Math.min(a,Math.pow(2,c))};a._fillRow=function(b,a,g,d,e){var f=this.maxWidth,
h=this.maxHeight;a+=e;for(var h=h-a,j=e,k=0,l=b.length-1;0<=l;l--){var m=b[l],q=this._scale*m.scale,p=m.sourceRect,s=m.source,r=Math.floor(q*p.x-e),v=Math.floor(q*p.y-e),u=Math.ceil(q*p.height+2*e),p=Math.ceil(q*p.width+2*e);if(p>f)throw c.ERR_DIMENSIONS;u>h||j+p>f||(m.img=g,m.rect=new createjs.Rectangle(j,a,p,u),k=k||u,b.splice(l,1),d[m.index]=[j,a,p,u,g,Math.round(-r+q*s.regX-e),Math.round(-v+q*s.regY-e)],j+=p)}return{w:j,h:k}};a._endBuild=function(){this.spriteSheet=new createjs.SpriteSheet(this._data);
this._data=null;this.progress=1;this.onComplete&&this.onComplete(this);this.dispatchEvent("complete")};a._run=function(){for(var b=50*Math.max(0.01,Math.min(0.99,this.timeSlice||0.3)),a=(new Date).getTime()+b,c=!1;a>(new Date).getTime();)if(!this._drawNext()){c=!0;break}if(c)this._endBuild();else{var d=this;this._timerID=setTimeout(function(){d._run()},50-b)}b=this.progress=this._index/this._frames.length;this.onProgress&&this.onProgress(this,b);this.dispatchEvent({type:"progress",progress:b})};a._drawNext=
function(){var b=this._frames[this._index],a=b.scale*this._scale,c=b.rect,d=b.sourceRect,e=this._data.images[b.img].getContext("2d");b.funct&&b.funct.apply(b.scope,b.params);e.save();e.beginPath();e.rect(c.x,c.y,c.width,c.height);e.clip();e.translate(Math.ceil(c.x-d.x*a),Math.ceil(c.y-d.y*a));e.scale(a,a);b.source.draw(e);e.restore();return++this._index<this._frames.length};createjs.SpriteSheetBuilder=c})();this.createjs=this.createjs||{};
(function(){var c=function(b){this.initialize(b)},a=c.prototype=new createjs.DisplayObject;a.htmlElement=null;a._oldMtx=null;a.DisplayObject_initialize=a.initialize;a.initialize=function(b){"string"==typeof b&&(b=document.getElementById(b));this.DisplayObject_initialize();this.mouseEnabled=!1;this.htmlElement=b;b=b.style;b.position="absolute";b.transformOrigin=b.WebkitTransformOrigin=b.msTransformOrigin=b.MozTransformOrigin=b.OTransformOrigin="0% 0%"};a.isVisible=function(){return null!=this.htmlElement};
a.draw=function(){if(null!=this.htmlElement){var b=this.getConcatenatedMatrix(this._matrix),a=this.htmlElement.style;if(this.visible)a.visibility="visible";else return!0;var c=this._oldMtx||{};c.alpha!=b.alpha&&(a.opacity=""+b.alpha,c.alpha=b.alpha);if(c.tx!=b.tx||c.ty!=b.ty||c.a!=b.a||c.b!=b.b||c.c!=b.c||c.d!=b.d)a.transform=a.WebkitTransform=a.OTransform=a.msTransform=["matrix("+b.a,b.b,b.c,b.d,b.tx+0.5|0,(b.ty+0.5|0)+")"].join(),a.MozTransform=["matrix("+b.a,b.b,b.c,b.d,(b.tx+0.5|0)+"px",(b.ty+
0.5|0)+"px)"].join(),this._oldMtx=b.clone();return!0}};a.cache=function(){};a.uncache=function(){};a.updateCache=function(){};a.hitTest=function(){};a.localToGlobal=function(){};a.globalToLocal=function(){};a.localToLocal=function(){};a.clone=function(){throw"DOMElement cannot be cloned.";};a.toString=function(){return"[DOMElement (name="+this.name+")]"};a.DisplayObject__tick=a._tick;a._tick=function(b){this.htmlElement.style.visibility="hidden";this.DisplayObject__tick(b)};createjs.DOMElement=c})();this.createjs=this.createjs||{};(function(){var c=function(){this.initialize()},a=c.prototype;a.initialize=function(){};a.getBounds=function(){return new createjs.Rectangle(0,0,0,0)};a.applyFilter=function(){};a.toString=function(){return"[Filter]"};a.clone=function(){return new c};createjs.Filter=c})();this.createjs=this.createjs||{};
(function(){var c=function(b){this.initialize(b)},a=c.prototype=new createjs.Filter;a.initialize=function(b){this.alphaMap=b};a.alphaMap=null;a._alphaMap=null;a._mapData=null;a.applyFilter=function(b,a,c,d,e,f,h,j){if(!this.alphaMap)return!0;if(!this._prepAlphaMap())return!1;f=f||b;null==h&&(h=a);null==j&&(j=c);try{var k=b.getImageData(a,c,d,e)}catch(l){return!1}b=k.data;a=this._mapData;c=b.length;for(d=0;d<c;d+=4)b[d+3]=a[d]||0;k.data=b;f.putImageData(k,h,j);return!0};a.clone=function(){return new c(this.mask)};
a.toString=function(){return"[AlphaMapFilter]"};a._prepAlphaMap=function(){if(!this.alphaMap)return!1;if(this.alphaMap==this._alphaMap&&this._mapData)return!0;this._mapData=null;var b=this._alphaMap=this.alphaMap,a=b;b instanceof HTMLCanvasElement?ctx=a.getContext("2d"):(a=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas"),a.width=b.width,a.height=b.height,ctx=a.getContext("2d"),ctx.drawImage(b,0,0));try{var c=ctx.getImageData(0,0,b.width,b.height)}catch(d){return!1}this._mapData=
c.data;return!0};createjs.AlphaMapFilter=c})();this.createjs=this.createjs||{};(function(){var c=function(a){this.initialize(a)},a=c.prototype=new createjs.Filter;a.initialize=function(a){this.mask=a};a.mask=null;a.applyFilter=function(a,c,g,d,e,f,h,j){if(!this.mask)return!0;f=f||a;null==h&&(h=c);null==j&&(j=g);f.save();f.globalCompositeOperation="destination-in";f.drawImage(this.mask,h,j);f.restore();return!0};a.clone=function(){return new c(this.mask)};a.toString=function(){return"[AlphaMaskFilter]"};createjs.AlphaMaskFilter=c})();this.createjs=this.createjs||{};
(function(){var c=function(a,c,g,d,e,f,h,j){this.initialize(a,c,g,d,e,f,h,j)},a=c.prototype=new createjs.Filter;a.redMultiplier=1;a.greenMultiplier=1;a.blueMultiplier=1;a.alphaMultiplier=1;a.redOffset=0;a.greenOffset=0;a.blueOffset=0;a.alphaOffset=0;a.initialize=function(a,c,g,d,e,f,h,j){this.redMultiplier=null!=a?a:1;this.greenMultiplier=null!=c?c:1;this.blueMultiplier=null!=g?g:1;this.alphaMultiplier=null!=d?d:1;this.redOffset=e||0;this.greenOffset=f||0;this.blueOffset=h||0;this.alphaOffset=j||
0};a.applyFilter=function(a,c,g,d,e,f,h,j){f=f||a;null==h&&(h=c);null==j&&(j=g);try{var k=a.getImageData(c,g,d,e)}catch(l){return!1}a=k.data;c=a.length;for(g=0;g<c;g+=4)a[g]=a[g]*this.redMultiplier+this.redOffset,a[g+1]=a[g+1]*this.greenMultiplier+this.greenOffset,a[g+2]=a[g+2]*this.blueMultiplier+this.blueOffset,a[g+3]=a[g+3]*this.alphaMultiplier+this.alphaOffset;k.data=a;f.putImageData(k,h,j);return!0};a.toString=function(){return"[ColorFilter]"};a.clone=function(){return new c(this.redMultiplier,
this.greenMultiplier,this.blueMultiplier,this.alphaMultiplier,this.redOffset,this.greenOffset,this.blueOffset,this.alphaOffset)};createjs.ColorFilter=c})();this.createjs=this.createjs||{};
(function(){ColorMatrix=function(a,b,c,g){this.initialize(a,b,c,g)};var c=ColorMatrix.prototype=[];ColorMatrix.DELTA_INDEX=[0,0.01,0.02,0.04,0.05,0.06,0.07,0.08,0.1,0.11,0.12,0.14,0.15,0.16,0.17,0.18,0.2,0.21,0.22,0.24,0.25,0.27,0.28,0.3,0.32,0.34,0.36,0.38,0.4,0.42,0.44,0.46,0.48,0.5,0.53,0.56,0.59,0.62,0.65,0.68,0.71,0.74,0.77,0.8,0.83,0.86,0.89,0.92,0.95,0.98,1,1.06,1.12,1.18,1.24,1.3,1.36,1.42,1.48,1.54,1.6,1.66,1.72,1.78,1.84,1.9,1.96,2,2.12,2.25,2.37,2.5,2.62,2.75,2.87,3,3.2,3.4,3.6,3.8,4,4.3,
4.7,4.9,5,5.5,6,6.5,6.8,7,7.3,7.5,7.8,8,8.4,8.7,9,9.4,9.6,9.8,10];ColorMatrix.IDENTITY_MATRIX=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1];ColorMatrix.LENGTH=ColorMatrix.IDENTITY_MATRIX.length;c.initialize=function(a,b,c,g){this.reset();this.adjustColor(a,b,c,g);return this};c.reset=function(){return this.copyMatrix(ColorMatrix.IDENTITY_MATRIX)};c.adjustColor=function(a,b,c,g){this.adjustHue(g);this.adjustContrast(b);this.adjustBrightness(a);return this.adjustSaturation(c)};c.adjustBrightness=
function(a){if(0==a||isNaN(a))return this;a=this._cleanValue(a,255);this._multiplyMatrix([1,0,0,0,a,0,1,0,0,a,0,0,1,0,a,0,0,0,1,0,0,0,0,0,1]);return this};c.adjustContrast=function(a){if(0==a||isNaN(a))return this;a=this._cleanValue(a,100);var b;0>a?b=127+127*(a/100):(b=a%1,b=0==b?ColorMatrix.DELTA_INDEX[a]:ColorMatrix.DELTA_INDEX[a<<0]*(1-b)+ColorMatrix.DELTA_INDEX[(a<<0)+1]*b,b=127*b+127);this._multiplyMatrix([b/127,0,0,0,0.5*(127-b),0,b/127,0,0,0.5*(127-b),0,0,b/127,0,0.5*(127-b),0,0,0,1,0,0,0,
0,0,1]);return this};c.adjustSaturation=function(a){if(0==a||isNaN(a))return this;a=this._cleanValue(a,100);a=1+(0<a?3*a/100:a/100);this._multiplyMatrix([0.3086*(1-a)+a,0.6094*(1-a),0.082*(1-a),0,0,0.3086*(1-a),0.6094*(1-a)+a,0.082*(1-a),0,0,0.3086*(1-a),0.6094*(1-a),0.082*(1-a)+a,0,0,0,0,0,1,0,0,0,0,0,1]);return this};c.adjustHue=function(a){if(0==a||isNaN(a))return this;a=this._cleanValue(a,180)/180*Math.PI;var b=Math.cos(a);a=Math.sin(a);this._multiplyMatrix([0.213+0.787*b+-0.213*a,0.715+-0.715*
b+-0.715*a,0.072+-0.072*b+0.928*a,0,0,0.213+-0.213*b+0.143*a,0.715+b*(1-0.715)+0.14*a,0.072+-0.072*b+-0.283*a,0,0,0.213+-0.213*b+-0.787*a,0.715+-0.715*b+0.715*a,0.072+0.928*b+0.072*a,0,0,0,0,0,1,0,0,0,0,0,1]);return this};c.concat=function(a){a=this._fixMatrix(a);if(a.length!=ColorMatrix.LENGTH)return this;this._multiplyMatrix(a);return this};c.clone=function(){return new ColorMatrix(this)};c.toArray=function(){return this.slice(0,ColorMatrix.LENGTH)};c.copyMatrix=function(a){for(var b=ColorMatrix.LENGTH,
c=0;c<b;c++)this[c]=a[c];return this};c._multiplyMatrix=function(a){for(var b=[],c=0;5>c;c++){for(var g=0;5>g;g++)b[g]=this[g+5*c];for(g=0;5>g;g++){for(var d=0,e=0;5>e;e++)d+=a[g+5*e]*b[e];this[g+5*c]=d}}};c._cleanValue=function(a,b){return Math.min(b,Math.max(-b,a))};c._fixMatrix=function(a){a instanceof ColorMatrix&&(a=a.slice(0));a.length<ColorMatrix.LENGTH?a=a.slice(0,a.length).concat(ColorMatrix.IDENTITY_MATRIX.slice(a.length,ColorMatrix.LENGTH)):a.length>ColorMatrix.LENGTH&&(a=a.slice(0,ColorMatrix.LENGTH));
return a};createjs.ColorMatrix=ColorMatrix})();this.createjs=this.createjs||{};
(function(){var c=function(a){this.initialize(a)},a=c.prototype=new createjs.Filter;a.matrix=null;a.initialize=function(a){this.matrix=a};a.applyFilter=function(a,c,g,d,e,f,h,j){f=f||a;null==h&&(h=c);null==j&&(j=g);try{var k=a.getImageData(c,g,d,e)}catch(l){return!1}a=k.data;c=a.length;var m,q,p,s;m=this.matrix;g=m[0];d=m[1];e=m[2];for(var r=m[3],v=m[4],u=m[5],w=m[6],x=m[7],y=m[8],z=m[9],A=m[10],B=m[11],C=m[12],D=m[13],E=m[14],F=m[15],G=m[16],H=m[17],I=m[18],J=m[19],t=0;t<c;t+=4)m=a[t],q=a[t+1],p=
a[t+2],s=a[t+3],a[t]=m*g+q*d+p*e+s*r+v,a[t+1]=m*u+q*w+p*x+s*y+z,a[t+2]=m*A+q*B+p*C+s*D+E,a[t+3]=m*F+q*G+p*H+s*I+J;k.data=a;f.putImageData(k,h,j);return!0};a.toString=function(){return"[ColorMatrixFilter]"};a.clone=function(){return new c(this.matrix)};createjs.ColorMatrixFilter=c})();this.createjs=this.createjs||{};
(function(){var c=function(){throw"Touch cannot be instantiated";};c.isSupported=function(){return"ontouchstart"in window||window.navigator.msPointerEnabled&&0<window.navigator.msMaxTouchPoints};c.enable=function(a,b,n){if(!a||!a.canvas||!c.isSupported())return!1;a.__touch={pointers:{},multitouch:!b,preventDefault:!n,count:0};"ontouchstart"in window?c._IOS_enable(a):window.navigator.msPointerEnabled&&c._IE_enable(a);return!0};c.disable=function(a){a&&("ontouchstart"in window?c._IOS_disable(a):window.navigator.msPointerEnabled&&
c._IE_disable(a))};c._IOS_enable=function(a){var b=a.canvas,n=a.__touch.f=function(b){c._IOS_handleEvent(a,b)};b.addEventListener("touchstart",n,!1);b.addEventListener("touchmove",n,!1);b.addEventListener("touchend",n,!1);b.addEventListener("touchcancel",n,!1)};c._IOS_disable=function(a){var b=a.canvas;b&&(a=a.__touch.f,b.removeEventListener("touchstart",a,!1),b.removeEventListener("touchmove",a,!1),b.removeEventListener("touchend",a,!1),b.removeEventListener("touchcancel",a,!1))};c._IOS_handleEvent=
function(a,b){if(a){a.__touch.preventDefault&&b.preventDefault&&b.preventDefault();for(var c=b.changedTouches,g=b.type,d=0,e=c.length;d<e;d++){var f=c[d],h=f.identifier;f.target==a.canvas&&("touchstart"==g?this._handleStart(a,h,b,f.pageX,f.pageY):"touchmove"==g?this._handleMove(a,h,b,f.pageX,f.pageY):("touchend"==g||"touchcancel"==g)&&this._handleEnd(a,h,b))}}};c._IE_enable=function(a){var b=a.canvas,n=a.__touch.f=function(b){c._IE_handleEvent(a,b)};b.addEventListener("MSPointerDown",n,!1);window.addEventListener("MSPointerMove",
n,!1);window.addEventListener("MSPointerUp",n,!1);window.addEventListener("MSPointerCancel",n,!1);a.__touch.preventDefault&&(b.style.msTouchAction="none");a.__touch.activeIDs={}};c._IE_disable=function(a){var b=a.__touch.f;window.removeEventListener("MSPointerMove",b,!1);window.removeEventListener("MSPointerUp",b,!1);window.removeEventListener("MSPointerCancel",b,!1);a.canvas&&a.canvas.removeEventListener("MSPointerDown",b,!1)};c._IE_handleEvent=function(a,b){if(a){a.__touch.preventDefault&&b.preventDefault&&
b.preventDefault();var c=b.type,g=b.pointerId,d=a.__touch.activeIDs;if("MSPointerDown"==c)b.srcElement==a.canvas&&(d[g]=!0,this._handleStart(a,g,b,b.pageX,b.pageY));else if(d[g])if("MSPointerMove"==c)this._handleMove(a,g,b,b.pageX,b.pageY);else if("MSPointerUp"==c||"MSPointerCancel"==c)delete d[g],this._handleEnd(a,g,b)}};c._handleStart=function(a,b,c,g,d){var e=a.__touch;if(e.multitouch||!e.count){var f=e.pointers;f[b]||(f[b]=!0,e.count++,a._handlePointerDown(b,c,g,d))}};c._handleMove=function(a,
b,c,g,d){a.__touch.pointers[b]&&a._handlePointerMove(b,c,g,d)};c._handleEnd=function(a,b,c){var g=a.__touch,d=g.pointers;d[b]&&(g.count--,a._handlePointerUp(b,c,!0),delete d[b])};createjs.Touch=c})();(function(){var c=this.createjs=this.createjs||{},c=c.EaselJS=c.EaselJS||{};c.version="NEXT";c.buildDate="Mon, 08 Jul 2013 19:15:27 GMT"})();
