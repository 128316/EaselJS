/*
* EaselJS
* Visit http://createjs.com/ for documentation, updates and examples.
*
* Copyright (c) 2011 gskinner.com, inc.
* 
* Distributed under the terms of the MIT license.
* http://www.opensource.org/licenses/mit-license.html
*
* This notice shall be included in all copies or substantial portions of the Software.
*/
this.createjs=this.createjs||{};
(function(){var d=function(a,b,c,f){this.initialize(a,b,c,f)},b=d.prototype=new createjs.Container;d.INDEPENDENT="independent";d.SINGLE_FRAME="single";d.SYNCHED="synched";b.startPosition=0;b.loop=true;b.timeline=null;b.paused=false;b.actionsEnabled=true;b.autoReset=true;b._synchOffset=0;b._prevPos=-1;b._prevPosition=0;b.Container_initialize=b.initialize;b.initialize=function(a,b,c,f){this.mode=a||d.INDEPENDENT;this.startPosition=b||0;this.loop=c;props={paused:true,position:b,useTicks:true};this.Container_initialize();
this.timeline=new createjs.Timeline(null,f,props);this._managed={}};b.isVisible=function(){var a=this.cacheCanvas||this.children.length;return!(!this.visible||!(this.alpha>0&&this.scaleX!=0&&this.scaleY!=0&&a))};b.Container_draw=b.draw;b.draw=function(a,b,c){if(this.DisplayObject_draw(a,b))return true;this._updateTimeline();this.Container_draw(a,b,c)};b.play=function(){this.paused=false};b.stop=function(){this.paused=true};b.gotoAndPlay=function(a){this.paused=false;this._goto(a)};b.gotoAndStop=function(a){this.paused=
true;this._goto(a)};b.clone=function(){throw"MovieClip cannot be cloned.";};b.toString=function(){return"[MovieClip (name="+this.name+")]"};b.Container__tick=b._tick;b._tick=function(a){if(!this.paused&&this.mode==d.INDEPENDENT)this._prevPosition=this._prevPos<0?0:this._prevPosition+1;this.Container__tick(a)};b._goto=function(a){a=this.timeline.resolve(a);if(a!=null)this._prevPosition=a,this._updateTimeline()};b._reset=function(){this._prevPos=-1};b._updateTimeline=function(){var a=this.timeline,
b=a._tweens,c=this.children,f=this.mode!=d.INDEPENDENT;a.loop=this.loop==null?true:this.loop;f?a.setPosition(this.startPosition+(this.mode==d.SINGLE_FRAME?0:this._synchOffset),createjs.Tween.NONE):a.setPosition(this._prevPos<0?0:this._prevPosition,this.actionsEnabled?null:createjs.Tween.NONE);this._prevPosition=a._prevPosition;if(this._prevPos!=a._prevPos){this._prevPos=a._prevPos;for(var e in this._managed)this._managed[e]=1;for(a=b.length-1;a>=0;a--)if(e=b[a],f=e._target,f!=this)e=e._stepPosition,
f instanceof createjs.DisplayObject?this._addManagedChild(f,e):this._setState(f.state,e);for(a=c.length-1;a>=0;a--)b=c[a].id,this._managed[b]==1&&(this.removeChildAt(a),delete this._managed[b])}};b._setState=function(a,b){if(a)for(var c=0,f=a.length;c<f;c++){var e=a[c],d=e.t,e=e.p,g;for(g in e)d[g]=e[g];this._addManagedChild(d,b)}};b._addManagedChild=function(a,b){if(!a._off){this.addChild(a);if(a instanceof d)a._synchOffset=b,a.mode==d.INDEPENDENT&&a.autoReset&&!this._managed[a.id]&&a._reset();this._managed[a.id]=
2}};createjs.MovieClip=d;var g=function(){throw"MovieClipPlugin cannot be instantiated.";};g.priority=100;g.install=function(){createjs.Tween.installPlugin(g,["startPosition"])};g.init=function(a,b,c){return c};g.step=function(){};g.tween=function(a,b,c,f,e,g){return!(a.target instanceof d)?c:g==1?e[b]:f[b]};g.install()})();
